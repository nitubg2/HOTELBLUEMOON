<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
          integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
      <title>Payment Page</title>

        <title>availability page</title>
        <style>
            header {
              height: 15vh;
/*<<<<<<< HEAD*/
              background-color: #b0c4de28;
              background-color: #fdfcfc49;
/*>>>>>>> 290cd596b8c5c328b9c9fd1082a7367debe8d1d6*/
            }
            /*--body image css---*/
            body{
             font-family: Arial, sans-serif;
             background-image: url('./image/home1.jpg');/*--body image*/
             background-repeat: no-repeat;
             background-size: cover;
            }
            .logo img {
              width: 130px;
              color:white;
            }

            header nav {
               display: flex;
               justify-content: space-between;
               align-items: center;
               padding-top: 20px;
            }

            .nav{
               display: block;
               width: 25px;
               height: 3px;
               margin: 5px auto;
               transition: all 0.3s ease-in-out;
               background-color: #ffffff04;
            }

            header ul {
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            header ul li {
              margin-left: 3rem;
              list-style: none;
            }

            header ul li a {
              font-size: 1.2rem;
              font-weight: 400;
              color: rgb(6, 6, 6);
              transition: 0.5s;
              text-decoration: none;
            }

            header ul li a:hover {
             /*<<<<<<< HEAD
              color:#b0c4de28;
=======*/
              color: #0f3272;
            }
            h2 {
            text-align: center;
            color: #333;
             /*>>>>>>> 290cd596b8c5c328b9c9fd1082a7367debe8d1d6*/
            }

            /*- CHECK ROOM AVAILABILITY from  CSS start--*/
       /*<<<<<<< HEAD*/
         
           .container1{
              max-width: 400px;
              margin: auto;
              padding: 40px;
              border: 2px solid #79b8e9;
              border-radius: 5px;
              box-shadow: 15px 15px 15px #011232;
              background-color:  #b0c4de28;}
         /*=======*/
            .booking-form {
            max-width: 400px;
            margin: 0 auto;
            background-color: #b0c4de9a;
            padding: 20px;
            border: 2px solid #333;
            border-radius: 20px;
             /*>>>>>>> 290cd596b8c5c328b9c9fd1082a7367debe8d1d6*/
            }
            h2{
              text-align: center;
              color: #dbdae0;
            }
            
            .form-group {
               margin: 50px;
            }
           label {
               display: block;
              font-weight: bold;
              color: #fcf9f9;
            }
            
            input[type="text"] {
               width: 100%;
               padding: 10px;
               border: 1px solid #080808;
               border-radius: 3px;
               padding-right: 2px;
               background-color: #2f2f3010;
            }
            /*--css for button--*/
            button {
               display: inline-block;
               width: 100%;
               padding: 20px;
               margin: 8px;
               background-color: #030e50;
               border: none;
               text-align:none;
               text-decoration: none;
            }

            button:hover {
               background-color: #0056b3;
            }
            /*---button end*/

            /*---check room availablity from css end--*/
         </style>     
    </head>
    <body>
     <!---- navigation part start--->
      <header class="header" id="navigation-menu">
         <div class="container">
            <nav>
                 <h1 class="logo" style=color:#f0fff0>Hotel Blue <span>Mo<i class="fa-solid fa-moon"></i>n</span></h1>
          
               <ul class="nav-menu">
                  <li> <a href="home.html" class="nav-link">Home</a> </li>
                  <li> <a href="about.html" class="nav-link">About</a> </li>
                  <li> <a href="room.html" class="nav-link">Rooms</a> </li>
                  <li> <a href="#restaurant" class="nav-link">Restaurant</a> </li>
                  <li> <a href="gallery.html" class="nav-link">Gallery</a> </li>
                  <li> <a href="contact.html" class="nav-link">Contact</a> </li>
               </ul>
               <div class="hambuger">
                      <span class="bar"></span>
                      <span class="bar"></span>
                      <span class="bar"></span>
               </div>
            </nav>
         </div>
      </header>
      <script>
          const hambuger = document.querySelector('.hambuger');
          const navMenu = document.querySelector('.nav-menu');
          
           hambuger.addEventListener("click", mobileMenu);
          
            function mobileMenu() {
              hambuger.classList.toggle("active");
              navMenu.classList.toggle("active");
            }
            const navLink = document.querySelectorAll('.nav-link');
                  navLink.forEach((n) => n.addEventListener("click", closeMenu));

            function closeMenu() {
                  hambuger.classList.remove("active");
                  navMenu.classList.remove("active");
            }
      </script>
     <!-- navigation part end-->
      <div class="container1"> 
         <!--from start--> 
         <h2 style="color:#f0fff0";>CHECK ROOM AVAILABILITY</h2>
         <div id="availability"> 
            <div class="form-group">
               <label class="form-label" for="check-in">Check-in Date:</label>
               <input class="form-input" type="date" id="idate"  required>
            </div>
            <div class="form-group">
               <label class="form-label" for="check-out">Check-out Date:</label>
               <input class="form-input" type="date" id="odate"  required>
            </div>
            <div class="form-group">
               <label class="form-label" for="room-type">Room Type:</label>
               <select class="form-input" id="room-type" required>
                  <option value="standard">Standard</option>
                  <option value="deluxe">Deluxe</option>
                  <option value="suite">Suite</option>
                  <option value="suite">premire</option>
                  <option value="suite">super view</option>
                  <option value="suite">luxuary room</option>
                  <option value="suite">supirior</option>
               </select>
            </div>
            <div class="form-group">
               <label class="form-label" for="guests">Number of Guests:</label>
               <input class="form-input" type="number" id="guests" placeholder="please enter guest number" min="1" required>
            </div>
         
            <button class="btn1" onclick="book()"><a href="#">CHECK AVAILABILITY</a></button>
         </div>
      </div>
       <!--from end-->
     

      <script>
         function book(){
             
             let idate=document.getElementById("idate").value;
             console.log("idate",idate)
                 
             let odate=document.getElementById("odate").value;
             console.log("odate",odate)
            let room_type=document.getElementById("room-type").value;
            console.log("room-type",room_type)
             var guest=document.getElementById("guests").value;
             console.log("guests",guest)
             let data={
               "idate": idate,
               "odate" : odate,
               "nog" : guest,
               "room_type" : room_type
             }
             fetch('http://localhost/api/room_booking.php', {
    method: "POST",
    // Set the headers
    headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json'
    },
    // Set the post data
    body: JSON.stringify(data)
})
.then(function (response) {
    // Save the response status in a variable to use later.
    fetch_status = response.status;
    console.log(response)
    // Handle success
    // eg. Convert the response to JSON and return
    return response.json();
}) 
.then(function (json) {
    // Check if the response were success
    if (fetch_status == 200) {
        // Use the converted JSON
        console.log(json);
        if(json.msg==0){
            alert("Login unsuccessful")
        }
        else if(json.msg==-1){
            alert("Room not available")
        }
        else {
            alert("Room available , Fill in your details")
            localStorage.setItem("data",JSON.stringify(data))
           window.location.href="/booknow.html"
        }
    }
})
.catch(function (error){
    // Catch errors
    console.log(error);
}); 
           
         }
       </script>




   </body>
</html>